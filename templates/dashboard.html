<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BI GHI TOOL MMO - Dashboard</title>
    
    <!-- Dynamic Theme Variables -->
    <style>
        :root {
            --primary-color: {{ theme_vars.primary_color }};
            --secondary-color: {{ theme_vars.secondary_color }};
            --accent-color: {{ theme_vars.accent_color }};
            --background-color: {{ theme_vars.background_color }};
            --text-color: {{ theme_vars.text_color }};
            --font-primary: {{ theme_vars.font_family }}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            --font-size-base: {{ theme_vars.font_size_base }};
            --sidebar-width: {{ theme_vars.sidebar_width }};
            --border-radius: {{ theme_vars.border_radius }};
            --animation-speed: {{ theme_vars.animation_speed }};
        }
    </style>
    
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard_pro.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard_fix.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin_notice.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/tool_results.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/ui_enhancements.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/i18n.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Sidebar Navigation -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo-container">
                <div class="logo-icon">
                    <i class="fas fa-bolt"></i>
                </div>
                <div class="logo-text">
                    <h2>BI GHI TOOL</h2>
                    <span>MMO Suite</span>
                </div>
            </div>
            <button class="sidebar-toggle" id="sidebarToggle">
                <i class="fas fa-bars"></i>
            </button>
        </div>

        <nav class="sidebar-nav">
            <div class="nav-section">
                <span class="nav-section-title">MAIN</span>
                <a href="#dashboard" class="nav-item active" data-page="dashboard">
                    <i class="fas fa-th-large"></i>
                    <span data-i18n="dashboard.title">B·∫£ng ƒëi·ªÅu khi·ªÉn</span>
                    <span class="nav-badge" data-i18n="common.new">M·ªõi</span>
                </a>
                <a href="#analytics" class="nav-item" data-page="analytics">
                    <i class="fas fa-chart-line"></i>
                    <span data-i18n="dashboard.analytics">Th·ªëng k√™</span>
                </a>
            </div>

            <div class="nav-section collapsible" data-section="email-tools">
                <div class="nav-section-header" onclick="toggleSection('email-tools')">
                    <span class="nav-section-title" data-i18n="sidebar.email_tools">C√îNG C·ª§ EMAIL</span>
                    <i class="fas fa-chevron-down collapse-icon"></i>
                </div>
                <div class="nav-section-content">
                    <a href="#validator" class="nav-item" onclick="openModal('validatorModal')">
                        <i class="fas fa-shield-check"></i>
                        <span data-i18n="dashboard.email_validator.title">Ki·ªÉm tra Email</span>
                    </a>
                    <a href="#generator" class="nav-item" onclick="openModal('generatorModal')">
                        <i class="fas fa-random"></i>
                        <span data-i18n="dashboard.email_generator.title">T·∫°o Email</span>
                    </a>
                    <a href="#extractor" class="nav-item" onclick="openModal('extractorModal')">
                        <i class="fas fa-search"></i>
                        <span data-i18n="dashboard.email_extractor.title">Tr√≠ch xu·∫•t Email</span>
                    </a>
                </div>
            </div>

            <div class="nav-section collapsible" data-section="facebook-tools">
                <div class="nav-section-header" onclick="toggleSection('facebook-tools')">
                    <span class="nav-section-title" data-i18n="sidebar.facebook_tools">C√îNG C·ª§ FACEBOOK</span>
                    <i class="fas fa-chevron-down collapse-icon"></i>
                </div>
                <div class="nav-section-content">
                    <a href="#fb-linked" class="nav-item" onclick="openModal('fbLinkedModal')">
                        <i class="fab fa-facebook"></i>
                        <span data-i18n="dashboard.fb_checker.title">Ki·ªÉm tra Facebook</span>
                    </a>
                    <a href="#check-2fa" class="nav-item" onclick="openModal('check2faModal')">
                        <i class="fas fa-shield-alt"></i>
                        <span data-i18n="dashboard.pass_2fa_checker.title">Ki·ªÉm tra 2FA</span>
                    </a>
                    <a href="#page-mining" class="nav-item" onclick="openModal('miningModal')">
                        <i class="fas fa-search-dollar"></i>
                        <span data-i18n="dashboard.page_mining.title">Mining Page</span>
                    </a>
                </div>
            </div>

            <div class="nav-section collapsible" data-section="advanced-tools">
                <div class="nav-section-header" onclick="toggleSection('advanced-tools')">
                    <span class="nav-section-title" data-i18n="sidebar.advanced">N√ÇNG CAO</span>
                    <i class="fas fa-chevron-down collapse-icon"></i>
                </div>
                <div class="nav-section-content">
                    <a href="#filter" class="nav-item" onclick="openModal('filterModal')">
                        <i class="fas fa-filter"></i>
                        <span data-i18n="sidebar.filter">L·ªçc</span>
                    </a>
                    <a href="#analyzer" class="nav-item" onclick="openModal('analyzerModal')">
                        <i class="fas fa-chart-bar"></i>
                        <span data-i18n="dashboard.email_analyzer.title">Ph√¢n t√≠ch Email</span>
                    </a>
                    <a href="#dedup" class="nav-item" onclick="openModal('deduplicatorModal')">
                        <i class="fas fa-clone"></i>
                        <span data-i18n="sidebar.deduplicator">Lo·∫°i b·ªè tr√πng</span>
                    </a>
                </div>
            </div>

            {% if user.role == 'admin' %}
            <div class="nav-section" data-section="admin">
                <span class="nav-section-title">
                    <i class="fas fa-shield-alt"></i> QU·∫¢N TR·ªä
                </span>
                <a href="/admin/" class="nav-item nav-item-admin" target="_blank">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Admin Dashboard</span>
                    <span class="nav-badge badge-admin">Admin</span>
                </a>
                <a href="#settings" class="nav-item" onclick="openModal('settingsModal')">
                    <i class="fas fa-cog"></i>
                    <span data-i18n="sidebar.settings">C√†i ƒë·∫∑t</span>
                </a>
                <a href="#users" class="nav-item" onclick="openAdminUsers()">
                    <i class="fas fa-users"></i>
                    <span>Qu·∫£n l√Ω Users</span>
                </a>
                <a href="#system-logs" class="nav-item" onclick="openSystemLogs()">
                    <i class="fas fa-list-alt"></i>
                    <span>System Logs</span>
                </a>
            </div>
            {% endif %}
        </nav>

        <!-- VIP Badge Disabled -->
        <!-- <div class="sidebar-footer">
            <div class="user-plan">
                <i class="fas fa-crown"></i>
                <div>
                    <span data-i18n="vip.pro.name">G√≥i PRO</span>
                    <small data-i18n="vip.unlimited">Kh√¥ng gi·ªõi h·∫°n</small>
                </div>
            </div>
        </div> -->
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Top Header -->
        <header class="top-header">
            <div class="header-left">
                <button class="mobile-menu-btn" id="mobileMenuBtn">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="breadcrumb">
                    <i class="fas fa-home"></i>
                    <span data-i18n="dashboard.title">B·∫£ng ƒëi·ªÅu khi·ªÉn</span>
                </div>
            </div>

            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" data-i18n-placeholder="dashboard.search_placeholder" placeholder="T√¨m ki·∫øm c√¥ng c·ª•, l·ªánh ho·∫∑c tr·ª£ gi√∫p...">
                <span class="search-shortcut">Ctrl+K</span>
            </div>

            <div class="header-right">
                <!-- Language Selector -->
                <div class="language-selector compact">
                    <button class="current-language">
                        <span class="flag">üáªüá≥</span>
                        <span class="lang-name">Ti·∫øng Vi·ªát</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="language-dropdown">
                        <a href="#" class="lang-option active" data-lang="vi">
                            <span class="flag">üáªüá≥</span>
                            <div class="lang-info">
                                <div class="lang-name">Ti·∫øng Vi·ªát</div>
                                <div class="lang-code">VI</div>
                            </div>
                        </a>
                        <a href="#" class="lang-option" data-lang="en">
                            <span class="flag">üá¨üáß</span>
                            <div class="lang-info">
                                <div class="lang-name">English</div>
                                <div class="lang-code">EN</div>
                            </div>
                        </a>
                    </div>
                </div>

                <button class="header-btn" title="Notifications" onclick="openNotificationsPanel()">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge" id="notificationCount">3</span>
                </button>
                
                <button class="header-btn" title="Settings" onclick="openSettingsModal()">
                    <i class="fas fa-cog"></i>
                </button>

                <div class="user-menu" onclick="toggleUserMenu()">
                    <div class="user-avatar">
                        {{ user.username[0]|upper }}
                    </div>
                    <div class="user-info">
                        <span class="user-name">{{ user.full_name or user.username }}</span>
                        <span class="user-role">{{ user.role|capitalize }}</span>
                    </div>
                    <i class="fas fa-chevron-down"></i>
                </div>
            </div>
        </header>

        <!-- Dashboard Content -->
        <div class="dashboard-content">
            <!-- Welcome Section -->
            <section class="welcome-section">
                <h1><span data-i18n="dashboard.welcome">Ch√†o m·ª´ng tr·ªü l·∫°i</span>, <span class="highlight">{{ user.full_name or user.username }}</span>! üëã</h1>
                <div class="welcome-stats">
                    <div class="stat-mini">
                        <i class="fas fa-envelope"></i> {{ stats.total_activities or 0 }} <span data-i18n="dashboard.total_actions">H√†nh ƒë·ªông</span>
                    </div>
                    <div class="stat-mini">
                        <i class="fas fa-clock"></i> {{ stats.login_count or 0 }} <span data-i18n="dashboard.logins">ƒêƒÉng nh·∫≠p</span>
                    </div>
                    <div class="stat-mini">
                        <i class="fas fa-calendar"></i> <span data-i18n="dashboard.member_since">Th√†nh vi√™n t·ª´</span> {{ stats.created_at.split()[0] if stats.created_at else 'N/A' }}
                    </div>
                </div>
            </section>

            <!-- Admin Notice Banner -->
            <div class="admin-notice-banner" id="adminNotice">
                <div class="admin-notice-content">
                    <div class="admin-notice-header">
                        <div class="admin-notice-icon">
                            <i class="fas fa-bullhorn"></i>
                        </div>
                        <div class="admin-notice-title">
                            <h3>
                                <span data-i18n="admin_notice.title">Th√¥ng B√°o Quan Tr·ªçng</span>
                                <span class="admin-notice-badge" data-i18n="admin_notice.badge">Admin</span>
                            </h3>
                            <p data-i18n="admin_notice.subtitle">Vui l√≤ng ƒë·ªçc k·ªπ n·ªôi quy v√† h∆∞·ªõng d·∫´n s·ª≠ d·ª•ng</p>
                        </div>
                        <button class="admin-notice-close" onclick="toggleNotice()" title="Thu g·ªçn/M·ªü r·ªông">
                            <i class="fas fa-chevron-up"></i>
                        </button>
                    </div>
                    <div class="admin-notice-body">
                        <h4><i class="fas fa-info-circle"></i> <span data-i18n="admin_notice.rules_title">N·ªôi Quy S·ª≠ D·ª•ng</span></h4>
                        <ul class="admin-notice-list">
                            <li>
                                <i class="fas fa-check-circle"></i>
                                <span data-i18n="admin_notice.rule1">S·ª≠ d·ª•ng c√¥ng c·ª• ƒë√∫ng m·ª•c ƒë√≠ch, kh√¥ng spam ho·∫∑c g·ª≠i n·ªôi dung vi ph·∫°m ph√°p lu·∫≠t</span>
                            </li>
                            <li>
                                <i class="fas fa-check-circle"></i>
                                <span data-i18n="admin_notice.rule2">Gi·ªõi h·∫°n ki·ªÉm tra: FREE 50/ng√†y, BASIC 500/ng√†y, PRO kh√¥ng gi·ªõi h·∫°n</span>
                            </li>
                            <li>
                                <i class="fas fa-check-circle"></i>
                                <span data-i18n="admin_notice.rule3">B·∫£o m·∫≠t th√¥ng tin t√†i kho·∫£n, kh√¥ng chia s·∫ª API key cho ng∆∞·ªùi kh√°c</span>
                            </li>
                            <li>
                                <i class="fas fa-check-circle"></i>
                                <span data-i18n="admin_notice.rule4">Li√™n h·ªá support n·∫øu g·∫∑p l·ªói ho·∫∑c c·∫ßn h·ªó tr·ª£ k·ªπ thu·∫≠t</span>
                            </li>
                            <li>
                                <i class="fas fa-check-circle"></i>
                                <span data-i18n="admin_notice.rule5">C·∫≠p nh·∫≠t th∆∞·ªùng xuy√™n ƒë·ªÉ tr·∫£i nghi·ªám t√≠nh nƒÉng m·ªõi nh·∫•t</span>
                            </li>
                        </ul>
                    </div>
                    <div class="admin-notice-footer">
                        <div class="admin-notice-footer-text">
                            <i class="fas fa-calendar-alt"></i>
                            <span data-i18n="admin_notice.updated">C·∫≠p nh·∫≠t l·∫ßn cu·ªëi: 23/11/2024</span>
                        </div>
                        <div class="admin-notice-footer-text">
                            <i class="fas fa-headset"></i>
                            <span>Support: <a href="mailto:support@bighi.agency" style="color: #ffd700;">support@bighi.agency</a></span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Statistics Cards (Hidden globally, shown per tool) -->
            <div class="stats-grid" style="display: none;">
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon green">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-change positive">
                            <i class="fas fa-arrow-up"></i> +12%
                        </div>
                    </div>
                    <div class="stat-label" data-i18n="dashboard.live_emails">Email LIVE</div>
                    <div class="stat-value" id="liveEmails">0</div>
                    <div class="stat-progress">
                        <div class="stat-progress-bar green" id="liveProgress" style="width: 0%"></div>
                    </div>
                    <div class="stat-footer">
                        <span class="stat-footer-text" data-i18n="dashboard.success_rate">T·ª∑ l·ªá th√†nh c√¥ng</span>
                        <span class="stat-footer-value">92%</span>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon red">
                            <i class="fas fa-times-circle"></i>
                        </div>
                        <div class="stat-change negative">
                            <i class="fas fa-arrow-down"></i> -8%
                        </div>
                    </div>
                    <div class="stat-label" data-i18n="dashboard.die_emails">Email DIE</div>
                    <div class="stat-value" id="dieEmails">0</div>
                    <div class="stat-progress">
                        <div class="stat-progress-bar red" id="dieProgress" style="width: 0%"></div>
                    </div>
                    <div class="stat-footer">
                        <span class="stat-footer-text" data-i18n="dashboard.failure_rate">T·ª∑ l·ªá th·∫•t b·∫°i</span>
                        <span class="stat-footer-value">8%</span>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon blue">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="stat-change positive">
                            <i class="fas fa-equals"></i> Stable
                        </div>
                    </div>
                    <div class="stat-label" data-i18n="dashboard.total_processed">T·ªïng ƒë√£ x·ª≠ l√Ω</div>
                    <div class="stat-value" id="totalEmails">0</div>
                    <div class="stat-progress">
                        <div class="stat-progress-bar blue" id="totalProgress" style="width: 0%"></div>
                    </div>
                    <div class="stat-footer">
                        <span class="stat-footer-text" data-i18n="dashboard.last_7_days">7 ng√†y qua</span>
                        <span class="stat-footer-value">1,250</span>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon purple">
                            <i class="fas fa-key"></i>
                        </div>
                        <div class="stat-change positive">
                            <i class="fas fa-arrow-up"></i> +15%
                        </div>
                    </div>
                    <div class="stat-label" data-i18n="dashboard.can_receive_code">Nh·∫≠n ƒë∆∞·ª£c m√£</div>
                    <div class="stat-value" id="canReceiveCode">0</div>
                    <div class="stat-progress">
                        <div class="stat-progress-bar purple" id="codeProgress" style="width: 0%"></div>
                    </div>
                    <div class="stat-footer">
                        <span class="stat-footer-text" data-i18n="dashboard.2fa_ready">S·∫µn s√†ng 2FA</span>
                        <span class="stat-footer-value">85%</span>
                    </div>
                </div>
            </div>

            <!-- Tools Grid -->
            <div class="tools-grid">
                <!-- Email Validator -->
                <div class="tool-card" onclick="openModal('validatorModal')">
                    <div class="tool-card-header">
                        <div class="tool-icon gradient-blue">
                            <i class="fas fa-shield-check"></i>
                        </div>
                        <div class="tool-info">
                            <h3 data-i18n="dashboard.email_validator.title">Ki·ªÉm tra Email</h3>
                        </div>
                    </div>
                    <p class="tool-description" data-i18n="dashboard.email_validator.description">Ki·ªÉm tra t√≠nh h·ª£p l·ªá c·ªßa email, ph√¢n lo·∫°i LIVE/DIE</p>
                    <div class="tool-stats">
                        <span class="tool-stat"><i class="fas fa-check"></i> 95% <span data-i18n="dashboard.accuracy">Ch√≠nh x√°c</span></span>
                        <span class="tool-stat"><i class="fas fa-bolt"></i> <span data-i18n="dashboard.fast">Nhanh</span></span>
                    </div>
                    <div class="tool-card-footer">
                        <span class="tool-badge popular" data-i18n="dashboard.popular">Ph·ªï bi·∫øn</span>
                        <div class="tool-arrow">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                    </div>
                </div>

                <!-- Email Generator -->
                <div class="tool-card" onclick="openModal('generatorModal')">
                    <div class="tool-card-header">
                        <div class="tool-icon gradient-green">
                            <i class="fas fa-random"></i>
                        </div>
                        <div class="tool-info">
                            <h3 data-i18n="dashboard.email_generator.title">T·∫°o Email</h3>
                        </div>
                    </div>
                    <p class="tool-description" data-i18n="dashboard.email_generator.description">T·∫°o danh s√°ch email ng·∫´u nhi√™n ho·∫∑c theo m·∫´u</p>
                    <div class="tool-stats">
                        <span class="tool-stat"><i class="fas fa-infinity"></i> <span data-i18n="dashboard.unlimited">Kh√¥ng gi·ªõi h·∫°n</span></span>
                        <span class="tool-stat"><i class="fas fa-globe"></i> <span data-i18n="dashboard.multi_domain">Nhi·ªÅu t√™n mi·ªÅn</span></span>
                    </div>
                    <div class="tool-card-footer">
                        <span class="tool-badge new" data-i18n="common.new">M·ªõi</span>
                        <div class="tool-arrow">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                    </div>
                </div>

                <!-- FB Linked Checker -->
                <div class="tool-card" onclick="openModal('fbLinkedModal')">
                    <div class="tool-card-header">
                        <div class="tool-icon gradient-purple">
                            <i class="fab fa-facebook"></i>
                        </div>
                        <div class="tool-info">
                            <h3 data-i18n="dashboard.fb_checker.title">Ki·ªÉm tra Facebook</h3>
                        </div>
                    </div>
                    <p class="tool-description" data-i18n="dashboard.fb_checker.description">Ki·ªÉm tra email c√≥ li√™n k·∫øt v·ªõi Facebook</p>
                    <div class="tool-stats">
                        <span class="tool-stat"><i class="fas fa-link"></i> 6 APIs</span>
                        <span class="tool-stat"><i class="fas fa-shield-alt"></i> <span data-i18n="dashboard.secure">B·∫£o m·∫≠t</span></span>
                    </div>
                    <div class="tool-card-footer">
                        <span class="tool-badge pro" data-i18n="vip.pro.short">Pro</span>
                        <div class="tool-arrow">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                    </div>
                </div>

                <!-- Check 2FA -->
                <div class="tool-card" onclick="openModal('check2faModal')">
                    <div class="tool-card-header">
                        <div class="tool-icon gradient-orange">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="tool-info">
                            <h3 data-i18n="dashboard.pass_2fa_checker.title">Ki·ªÉm tra 2FA</h3>
                        </div>
                    </div>
                    <p class="tool-description" data-i18n="dashboard.pass_2fa_checker.description">Ki·ªÉm tra email:password c√≥ 2FA v√† Page</p>
                    <div class="tool-stats">
                        <span class="tool-stat"><i class="fas fa-lock"></i> 2FA</span>
                        <span class="tool-stat"><i class="fas fa-pager"></i> <span data-i18n="dashboard.pages">Trang</span></span>
                    </div>
                    <div class="tool-card-footer">
                        <span class="tool-badge hot" data-i18n="dashboard.hot">N√≥ng</span>
                        <div class="tool-arrow">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                    </div>
                </div>

                <!-- Page Mining -->
                <div class="tool-card" onclick="openModal('miningModal')">
                    <div class="tool-card-header">
                        <div class="tool-icon gradient-teal">
                            <i class="fas fa-search-dollar"></i>
                        </div>
                        <div class="tool-info">
                            <h3 data-i18n="dashboard.page_mining.title">Mining Page</h3>
                        </div>
                    </div>
                    <p class="tool-description" data-i18n="dashboard.page_mining.description">Khai th√°c th√¥ng tin Page t·ª´ UID Facebook</p>
                    <div class="tool-stats">
                        <span class="tool-stat"><i class="fas fa-database"></i> <span data-i18n="dashboard.advanced_tool">N√¢ng cao</span></span>
                        <span class="tool-stat"><i class="fas fa-filter"></i> <span data-i18n="common.filter">L·ªçc</span></span>
                    </div>
                    <div class="tool-card-footer">
                        <span class="tool-badge pro" data-i18n="vip.pro.short">Pro</span>
                        <div class="tool-arrow">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                    </div>
                </div>

                <!-- Email Extractor -->
                <div class="tool-card" onclick="openModal('extractorModal')">
                    <div class="tool-card-header">
                        <div class="tool-icon gradient-red">
                            <i class="fas fa-search"></i>
                        </div>
                        <div class="tool-info">
                            <h3 data-i18n="dashboard.email_extractor.title">Tr√≠ch xu·∫•t Email</h3>
                        </div>
                    </div>
                    <p class="tool-description" data-i18n="dashboard.email_extractor.description">Tr√≠ch xu·∫•t email t·ª´ vƒÉn b·∫£n, file ho·∫∑c URL</p>
                    <div class="tool-stats">
                        <span class="tool-stat"><i class="fas fa-file"></i> <span data-i18n="dashboard.multi_source">Nhi·ªÅu ngu·ªìn</span></span>
                        <span class="tool-stat"><i class="fas fa-magic"></i> <span data-i18n="dashboard.smart">Th√¥ng minh</span></span>
                    </div>
                    <div class="tool-card-footer">
                        <span class="tool-badge popular" data-i18n="dashboard.popular">Ph·ªï bi·∫øn</span>
                        <div class="tool-arrow">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="activity-section mt-4">
                <div class="section-header">
                    <h2 class="section-title">
                        <i class="fas fa-history"></i>
                        <span data-i18n="dashboard.recent_activity">Ho·∫°t ƒë·ªông g·∫ßn ƒë√¢y</span>
                    </h2>
                    <button class="view-all-btn" data-i18n="dashboard.view_all">Xem t·∫•t c·∫£</button>
                </div>

                <div class="activity-list">
                    <div class="activity-item">
                        <div class="activity-icon blue">
                            <i class="fas fa-shield-check"></i>
                        </div>
                        <div class="activity-details">
                            <div class="activity-title" data-i18n="dashboard.activity.validation_completed">Ho√†n th√†nh ki·ªÉm tra Email</div>
                            <div class="activity-time" data-i18n="dashboard.activity.validation_details">ƒê√£ ki·ªÉm tra 150 email v·ªõi 92% LIVE ‚Ä¢ 2 ph√∫t tr∆∞·ªõc</div>
                        </div>
                        <span class="activity-status success" data-i18n="common.success">Th√†nh c√¥ng</span>
                    </div>

                    <div class="activity-item">
                        <div class="activity-icon green">
                            <i class="fas fa-random"></i>
                        </div>
                        <div class="activity-details">
                            <div class="activity-title" data-i18n="dashboard.activity.emails_generated">ƒê√£ t·∫°o Email</div>
                            <div class="activity-time" data-i18n="dashboard.activity.generation_details">T·∫°o 500 email ng·∫´u nhi√™n tr√™n 4 t√™n mi·ªÅn ‚Ä¢ 15 ph√∫t tr∆∞·ªõc</div>
                        </div>
                        <span class="activity-status success" data-i18n="common.success">Th√†nh c√¥ng</span>
                    </div>

                    <div class="activity-item">
                        <div class="activity-icon purple">
                            <i class="fab fa-facebook"></i>
                        </div>
                        <div class="activity-details">
                            <div class="activity-title" data-i18n="dashboard.activity.fb_check">Ki·ªÉm tra li√™n k·∫øt FB</div>
                            <div class="activity-time" data-i18n="dashboard.activity.fb_check_details">ƒê√£ ki·ªÉm tra 80 email, t√¨m th·∫•y 25 t√†i kho·∫£n li√™n k·∫øt ‚Ä¢ 1 gi·ªù tr∆∞·ªõc</div>
                        </div>
                        <span class="activity-status success" data-i18n="common.success">Th√†nh c√¥ng</span>
                    </div>
                </div>
            </div>

            <!-- Enhanced Info Sections Grid -->
            <div class="info-sections-grid">
                <!-- Usage Notes -->
                <div class="info-card usage-notes">
                    <div class="info-card-header">
                        <div class="info-icon yellow">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <h3 data-i18n="info_sections.usage_notes.title">L∆∞u √ù Quan Tr·ªçng</h3>
                    </div>
                    <div class="info-card-body">
                        <ul class="notes-list">
                            <li>
                                <i class="fas fa-check-circle"></i>
                                <div>
                                    <strong data-i18n="info_sections.usage_notes.email_validation">Ki·ªÉm tra Email:</strong>
                                    <span data-i18n="info_sections.usage_notes.email_validation_desc">K·∫øt qu·∫£ ch√≠nh x√°c 95%. Lu√¥n x√°c minh th·ªß c√¥ng email quan tr·ªçng.</span>
                                </div>
                            </li>
                            <li>
                                <i class="fas fa-clock"></i>
                                <div>
                                    <strong data-i18n="info_sections.usage_notes.rate_limits">Gi·ªõi h·∫°n t·ªëc ƒë·ªô:</strong>
                                    <span data-i18n="info_sections.usage_notes.rate_limits_desc">MI·ªÑN PH√ç: 50/ng√†y, C∆† B·∫¢N: 500/ng√†y, PRO: Kh√¥ng gi·ªõi h·∫°n.</span>
                                </div>
                            </li>
                            <li>
                                <i class="fas fa-shield-alt"></i>
                                <div>
                                    <strong data-i18n="info_sections.usage_notes.data_privacy">B·∫£o m·∫≠t d·ªØ li·ªáu:</strong>
                                    <span data-i18n="info_sections.usage_notes.data_privacy_desc">T·∫•t c·∫£ d·ªØ li·ªáu ƒë∆∞·ª£c m√£ h√≥a v√† l∆∞u tr·ªØ an to√†n. Ch√∫ng t√¥i kh√¥ng bao gi·ªù chia s·∫ª th√¥ng tin c·ªßa b·∫°n.</span>
                                </div>
                            </li>
                            <li>
                                <i class="fas fa-bolt"></i>
                                <div>
                                    <strong data-i18n="info_sections.usage_notes.best_performance">Hi·ªáu su·∫•t t·ªët nh·∫•t:</strong>
                                    <span data-i18n="info_sections.usage_notes.best_performance_desc">S·ª≠ d·ª•ng x·ª≠ l√Ω h√†ng lo·∫°t cho danh s√°ch l·ªõn (1000+ email) ƒë·ªÉ c√≥ k·∫øt qu·∫£ nhanh h∆°n.</span>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- Quick Start Guide -->
                <div class="info-card usage-guide">
                    <div class="info-card-header">
                        <div class="info-icon blue">
                            <i class="fas fa-book-open"></i>
                        </div>
                        <h3 data-i18n="info_sections.quick_start.title">H∆∞·ªõng D·∫´n Nhanh</h3>
                    </div>
                    <div class="info-card-body">
                        <div class="guide-steps">
                            <div class="guide-step">
                                <div class="step-number">1</div>
                                <div class="step-content">
                                    <h4 data-i18n="info_sections.quick_start.step1_title">Ch·ªçn C√¥ng C·ª•</h4>
                                    <p data-i18n="info_sections.quick_start.step1_desc">Ch·ªçn t·ª´ Ki·ªÉm tra Email, T·∫°o Email, ho·∫∑c C√¥ng c·ª• Facebook d·ª±a tr√™n nhu c·∫ßu c·ªßa b·∫°n.</p>
                                </div>
                            </div>
                            <div class="guide-step">
                                <div class="step-number">2</div>
                                <div class="step-content">
                                    <h4 data-i18n="info_sections.quick_start.step2_title">Nh·∫≠p D·ªØ Li·ªáu</h4>
                                    <p data-i18n="info_sections.quick_start.step2_desc">D√°n email ho·∫∑c nh·∫≠p tham s·ªë. H·ªó tr·ª£ nh·∫≠p h√†ng lo·∫°t (m·ªói d√≤ng m·ªôt email).</p>
                                </div>
                            </div>
                            <div class="guide-step">
                                <div class="step-number">3</div>
                                <div class="step-content">
                                    <h4 data-i18n="info_sections.quick_start.step3_title">X·ª≠ L√Ω & T·∫£i Xu·ªëng</h4>
                                    <p data-i18n="info_sections.quick_start.step3_desc">Nh·∫•n "X·ª≠ l√Ω" v√† t·∫£i xu·ªëng k·∫øt qu·∫£ ·ªü ƒë·ªãnh d·∫°ng TXT, CSV, ho·∫∑c JSON.</p>
                                </div>
                            </div>
                        </div>
                        <a href="#" class="guide-link" onclick="showFullGuide()">
                            <i class="fas fa-external-link-alt"></i> <span data-i18n="info_sections.quick_start.view_docs">Xem T√†i Li·ªáu ƒê·∫ßy ƒê·ªß</span>
                        </a>
                    </div>
                </div>

                <!-- VIP Package Details (Disabled) -->
                <div class="info-card vip-package" style="display: none;">
                    <div class="info-card-header">
                        <div class="info-icon gold">
                            <i class="fas fa-crown"></i>
                        </div>
                        <h3 data-i18n="info_sections.vip_packages.title">G√≥i VIP</h3>
                    </div>
                    <div class="info-card-body">
                        <div class="vip-plans">
                            <div class="vip-plan free">
                                <div class="plan-badge" data-i18n="info_sections.vip_packages.free_plan">MI·ªÑN PH√ç</div>
                                <div class="plan-price">$0<span data-i18n="info_sections.vip_packages.per_month">/th√°ng</span></div>
                                <ul class="plan-features">
                                    <li><i class="fas fa-check"></i> 50 <span data-i18n="info_sections.vip_packages.validations_day">ki·ªÉm tra/ng√†y</span></li>
                                    <li><i class="fas fa-check"></i> <span data-i18n="info_sections.vip_packages.basic_tools">C√¥ng c·ª• email c∆° b·∫£n</span></li>
                                    <li><i class="fas fa-check"></i> <span data-i18n="info_sections.vip_packages.standard_support">H·ªó tr·ª£ ti√™u chu·∫©n</span></li>
                                    <li><i class="fas fa-times"></i> <span data-i18n="info_sections.vip_packages.no_facebook_tools">Kh√¥ng c√≥ c√¥ng c·ª• Facebook</span></li>
                                </ul>
                            </div>
                            <div class="vip-plan basic">
                                <div class="plan-badge" data-i18n="info_sections.vip_packages.basic_plan">C∆† B·∫¢N</div>
                                <div class="plan-price">$9<span data-i18n="info_sections.vip_packages.per_month">/th√°ng</span></div>
                                <ul class="plan-features">
                                    <li><i class="fas fa-check"></i> 500 <span data-i18n="info_sections.vip_packages.validations_day">ki·ªÉm tra/ng√†y</span></li>
                                    <li><i class="fas fa-check"></i> <span data-i18n="info_sections.vip_packages.all_email_tools">T·∫•t c·∫£ c√¥ng c·ª• email</span></li>
                                    <li><i class="fas fa-check"></i> <span data-i18n="info_sections.vip_packages.facebook_basic">Facebook c∆° b·∫£n</span></li>
                                    <li><i class="fas fa-check"></i> <span data-i18n="info_sections.vip_packages.priority_support">H·ªó tr·ª£ ∆∞u ti√™n</span></li>
                                </ul>
                            </div>
                            <div class="vip-plan pro highlighted">
                                <div class="plan-badge popular" data-i18n="info_sections.vip_packages.pro_plan">PRO</div>
                                <div class="plan-price">$29<span data-i18n="info_sections.vip_packages.per_month">/th√°ng</span></div>
                                <ul class="plan-features">
                                    <li><i class="fas fa-check"></i> <span data-i18n="info_sections.vip_packages.unlimited_validations">Ki·ªÉm tra kh√¥ng gi·ªõi h·∫°n</span></li>
                                    <li><i class="fas fa-check"></i> <span data-i18n="info_sections.vip_packages.all_tools_unlocked">M·ªü kh√≥a t·∫•t c·∫£ c√¥ng c·ª•</span></li>
                                    <li><i class="fas fa-check"></i> <span data-i18n="info_sections.vip_packages.facebook_advanced">Facebook n√¢ng cao</span></li>
                                    <li><i class="fas fa-check"></i> <span data-i18n="info_sections.vip_packages.vip_support_24_7">H·ªó tr·ª£ VIP 24/7</span></li>
                                    <li><i class="fas fa-check"></i> <span data-i18n="info_sections.vip_packages.api_access">Truy c·∫≠p API</span></li>
                                </ul>
                                <button class="upgrade-btn" onclick="upgradeVIP('pro')">
                                    <i class="fas fa-arrow-up"></i> <span data-i18n="info_sections.vip_packages.upgrade_to_pro">N√¢ng c·∫•p l√™n PRO</span>
                                </button>
                            </div>
                            <div class="vip-plan enterprise">
                                <div class="plan-badge" data-i18n="info_sections.vip_packages.enterprise_plan">DOANH NGHI·ªÜP</div>
                                <div class="plan-price">$99<span data-i18n="info_sections.vip_packages.per_month">/th√°ng</span></div>
                                <ul class="plan-features">
                                    <li><i class="fas fa-check"></i> <span data-i18n="info_sections.vip_packages.everything_in_pro">M·ªçi th·ª© trong PRO</span></li>
                                    <li><i class="fas fa-check"></i> <span data-i18n="info_sections.vip_packages.dedicated_server">M√°y ch·ªß ri√™ng</span></li>
                                    <li><i class="fas fa-check"></i> <span data-i18n="info_sections.vip_packages.custom_integrations">T√≠ch h·ª£p t√πy ch·ªânh</span></li>
                                    <li><i class="fas fa-check"></i> <span data-i18n="info_sections.vip_packages.white_label">T√πy ch·ªçn nh√£n tr·∫Øng</span></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Notifications Panel -->
    <div class="notifications-panel" id="notificationsPanel">
        <div class="notifications-header">
            <h3><i class="fas fa-bell"></i> <span data-i18n="notifications_panel.title">Th√¥ng B√°o</span></h3>
            <button class="close-panel-btn" onclick="closeNotificationsPanel()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="notifications-body">
            <div class="notification-item unread">
                <div class="notification-icon success">
                    <i class="fas fa-check-circle"></i>
                </div>
                <div class="notification-content">
                    <div class="notification-title" data-i18n="notifications_panel.validation_complete">Ho√†n Th√†nh Ki·ªÉm Tra</div>
                    <div class="notification-message" data-i18n="notifications_panel.validation_complete_msg">ƒê√£ ki·ªÉm tra th√†nh c√¥ng 150 email v·ªõi t·ª∑ l·ªá LIVE 95%</div>
                    <div class="notification-time">5 <span data-i18n="notifications_panel.minutes_ago">ph√∫t tr∆∞·ªõc</span></div>
                </div>
            </div>
            <div class="notification-item unread">
                <div class="notification-icon info">
                    <i class="fas fa-info-circle"></i>
                </div>
                <div class="notification-content">
                    <div class="notification-title" data-i18n="notifications_panel.system_update">C·∫≠p Nh·∫≠t H·ªá Th·ªëng</div>
                    <div class="notification-message" data-i18n="notifications_panel.system_update_msg">T√≠nh nƒÉng m·ªõi: C√¥ng c·ª• ki·ªÉm tra Facebook n√¢ng cao v·ªõi 6 APIs</div>
                    <div class="notification-time">2 <span data-i18n="notifications_panel.hours_ago">gi·ªù tr∆∞·ªõc</span></div>
                </div>
            </div>
            <!-- VIP Upgrade Notification (Disabled) -->
            <div class="notification-item read">
                <div class="notification-icon success">
                    <i class="fas fa-user-check"></i>
                </div>
                <div class="notification-content">
                    <div class="notification-title" data-i18n="notifications_panel.welcome_title">Ch√†o m·ª´ng!</div>
                    <div class="notification-message" data-i18n="notifications_panel.welcome_msg">T√†i kho·∫£n c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c t·∫°o th√†nh c√¥ng</div>
                    <div class="notification-time">3 <span data-i18n="notifications_panel.days_ago">ng√†y tr∆∞·ªõc</span></div>
                </div>
            </div>
        </div>
        <div class="notifications-footer">
            <button class="mark-all-read-btn" onclick="markAllAsRead()">
                <i class="fas fa-check-double"></i> <span data-i18n="notifications_panel.mark_all_read">ƒê√°nh d·∫•u t·∫•t c·∫£ ƒë√£ ƒë·ªçc</span>
            </button>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal" id="settingsModal">
        <div class="modal-content settings-modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-cog"></i> <span data-i18n="settings_modal.title">C√†i ƒê·∫∑t</span></h2>
                <button class="close-modal" onclick="closeModal('settingsModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="settings-tabs">
                    <button class="settings-tab active" data-tab="profile">
                        <i class="fas fa-user"></i> <span data-i18n="settings_modal.profile_tab">H·ªì s∆°</span>
                    </button>
                    <button class="settings-tab" data-tab="theme">
                        <i class="fas fa-palette"></i> <span data-i18n="settings_modal.theme_tab">Giao di·ªán</span>
                    </button>
                    <button class="settings-tab" data-tab="preferences">
                        <i class="fas fa-sliders-h"></i> <span data-i18n="settings_modal.preferences_tab">T√πy ch·ªçn</span>
                    </button>
                    <button class="settings-tab" data-tab="api">
                        <i class="fas fa-code"></i> <span data-i18n="settings_modal.api_tab">API Keys</span>
                    </button>
                    <button class="settings-tab" data-tab="security">
                        <i class="fas fa-shield-alt"></i> <span data-i18n="settings_modal.security_tab">B·∫£o m·∫≠t</span>
                    </button>
                </div>

                <div class="settings-content">
                    <!-- Profile Tab -->
                    <div class="settings-tab-content active" id="profileTab">
                        <h3 data-i18n="settings_modal.profile.title">Th√¥ng Tin H·ªì S∆°</h3>
                        <div class="form-group">
                            <label data-i18n="settings_modal.profile.full_name">H·ªç v√† t√™n</label>
                            <input type="text" class="form-control" value="{{ user.full_name or user.username }}" data-i18n-placeholder="settings_modal.profile.full_name_placeholder" placeholder="Nh·∫≠p h·ªç v√† t√™n c·ªßa b·∫°n">
                        </div>
                        <div class="form-group">
                            <label data-i18n="settings_modal.profile.email">ƒê·ªãa ch·ªâ Email</label>
                            <input type="email" class="form-control" value="{{ user.email or '' }}" data-i18n-placeholder="settings_modal.profile.email_placeholder" placeholder="your@email.com">
                        </div>
                        <div class="form-group">
                            <label data-i18n="settings_modal.profile.username">T√™n ƒëƒÉng nh·∫≠p</label>
                            <input type="text" class="form-control" value="{{ user.username }}" readonly>
                        </div>
                        <!-- VIP Level (Disabled) -->
                        <!--
                        <div class="form-group">
                            <label data-i18n="settings_modal.profile.vip_level">C·∫•p VIP</label>
                            <div class="vip-display">
                                <span class="vip-badge {{ user.role }}">{{ user.role|upper }}</span>
                                <button class="upgrade-link-btn" onclick="upgradeVIP('pro')">
                                    <i class="fas fa-arrow-up"></i> <span data-i18n="settings_modal.profile.upgrade">N√¢ng c·∫•p</span>
                                </button>
                            </div>
                        </div>
                        -->
                        <button class="btn-primary"><i class="fas fa-save"></i> <span data-i18n="settings_modal.profile.save_changes">L∆∞u Thay ƒê·ªïi</span></button>
                    </div>

                    <!-- Theme Tab -->
                    <div class="settings-tab-content" id="themeTab">
                        <h3 data-i18n="settings_modal.theme.title">C√†i ƒê·∫∑t Giao Di·ªán</h3>
                        
                        <!-- Theme Mode -->
                        <div class="form-group">
                            <label data-i18n="settings_modal.theme.theme_mode">Ch·∫ø ƒë·ªô giao di·ªán</label>
                            <div class="theme-mode-selector">
                                <button class="theme-mode-btn active" data-mode="dark">
                                    <i class="fas fa-moon"></i>
                                    <span data-i18n="settings_modal.theme.dark_mode">T·ªëi</span>
                                </button>
                                <button class="theme-mode-btn" data-mode="light">
                                    <i class="fas fa-sun"></i>
                                    <span data-i18n="settings_modal.theme.light_mode">S√°ng</span>
                                </button>
                            </div>
                        </div>

                        <!-- Preset Themes -->
                        <div class="form-group">
                            <label data-i18n="settings_modal.theme.preset_themes">Giao di·ªán m·∫´u</label>
                            <div class="preset-themes-grid">
                                <div class="preset-theme active" data-preset="professional">
                                    <div class="preset-preview">
                                        <div class="color-dot" style="background: #ffd700;"></div>
                                        <div class="color-dot" style="background: #00d9ff;"></div>
                                        <div class="color-dot" style="background: #ff6b35;"></div>
                                    </div>
                                    <span data-i18n="settings_modal.theme.professional">Chuy√™n nghi·ªáp</span>
                                    <i class="fas fa-check"></i>
                                </div>
                                <div class="preset-theme" data-preset="creative">
                                    <div class="preset-preview">
                                        <div class="color-dot" style="background: #ff006e;"></div>
                                        <div class="color-dot" style="background: #8338ec;"></div>
                                        <div class="color-dot" style="background: #3a86ff;"></div>
                                    </div>
                                    <span data-i18n="settings_modal.theme.creative">S√°ng t·∫°o</span>
                                    <i class="fas fa-check"></i>
                                </div>
                                <div class="preset-theme" data-preset="minimal">
                                    <div class="preset-preview">
                                        <div class="color-dot" style="background: #000000;"></div>
                                        <div class="color-dot" style="background: #ffffff;"></div>
                                        <div class="color-dot" style="background: #6c757d;"></div>
                                    </div>
                                    <span data-i18n="settings_modal.theme.minimal">T·ªëi gi·∫£n</span>
                                    <i class="fas fa-check"></i>
                                </div>
                                <div class="preset-theme" data-preset="bold">
                                    <div class="preset-preview">
                                        <div class="color-dot" style="background: #ff0000;"></div>
                                        <div class="color-dot" style="background: #00ff00;"></div>
                                        <div class="color-dot" style="background: #0000ff;"></div>
                                    </div>
                                    <span data-i18n="settings_modal.theme.bold">T√°o b·∫°o</span>
                                    <i class="fas fa-check"></i>
                                </div>
                                <div class="preset-theme" data-preset="elegant">
                                    <div class="preset-preview">
                                        <div class="color-dot" style="background: #a78bfa;"></div>
                                        <div class="color-dot" style="background: #60a5fa;"></div>
                                        <div class="color-dot" style="background: #34d399;"></div>
                                    </div>
                                    <span data-i18n="settings_modal.theme.elegant">Thanh l·ªãch</span>
                                    <i class="fas fa-check"></i>
                                </div>
                            </div>
                        </div>

                        <!-- Colors -->
                        <div class="form-group">
                            <label data-i18n="settings_modal.theme.primary_color">M√†u ch√≠nh</label>
                            <div class="color-picker-wrapper">
                                <input type="color" id="primaryColor" value="#ffd700">
                                <span class="color-value">#ffd700</span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label data-i18n="settings_modal.theme.secondary_color">M√†u ph·ª•</label>
                            <div class="color-picker-wrapper">
                                <input type="color" id="secondaryColor" value="#00d9ff">
                                <span class="color-value">#00d9ff</span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label data-i18n="settings_modal.theme.accent_color">M√†u nh·∫•n</label>
                            <div class="color-picker-wrapper">
                                <input type="color" id="accentColor" value="#ff6b35">
                                <span class="color-value">#ff6b35</span>
                            </div>
                        </div>

                        <!-- Typography -->
                        <div class="form-group">
                            <label data-i18n="settings_modal.theme.font_family">Font ch·ªØ</label>
                            <select id="fontFamily" class="form-control">
                                <option value="Inter">Inter (Default)</option>
                                <option value="Lexend">Lexend</option>
                                <option value="Roboto">Roboto</option>
                                <option value="Open Sans">Open Sans</option>
                                <option value="Poppins">Poppins</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label data-i18n="settings_modal.theme.font_size">K√≠ch th∆∞·ªõc ch·ªØ: <span id="fontSizeValue">16px</span></label>
                            <input type="range" id="fontSize" min="12" max="20" value="16" class="slider">
                        </div>

                        <!-- Layout -->
                        <div class="form-group">
                            <label data-i18n="settings_modal.theme.sidebar_width">ƒê·ªô r·ªông sidebar: <span id="sidebarWidthValue">280px</span></label>
                            <input type="range" id="sidebarWidth" min="200" max="400" value="280" class="slider">
                        </div>

                        <div class="form-group">
                            <label data-i18n="settings_modal.theme.border_radius">Bo g√≥c: <span id="borderRadiusValue">12px</span></label>
                            <input type="range" id="borderRadius" min="0" max="24" value="12" class="slider">
                        </div>

                        <!-- Animation -->
                        <div class="form-group">
                            <label data-i18n="settings_modal.theme.animation_speed">T·ªëc ƒë·ªô animation: <span id="animationSpeedValue">0.3s</span></label>
                            <input type="range" id="animationSpeed" min="0.1" max="1.0" step="0.1" value="0.3" class="slider">
                        </div>

                        <!-- Custom CSS -->
                        <div class="form-group">
                            <label data-i18n="settings_modal.theme.custom_css">CSS t√πy ch·ªânh</label>
                            <textarea id="customCSS" class="form-control" rows="6" data-i18n-placeholder="settings_modal.theme.custom_css_placeholder" placeholder="Nh·∫≠p CSS t√πy ch·ªânh c·ªßa b·∫°n..."></textarea>
                        </div>

                        <!-- Action Buttons -->
                        <div class="theme-actions">
                            <button class="btn-primary" onclick="saveThemeSettings()">
                                <i class="fas fa-save"></i> <span data-i18n="settings_modal.theme.save_theme">L∆∞u Giao Di·ªán</span>
                            </button>
                            <button class="btn-secondary" onclick="resetThemeSettings()">
                                <i class="fas fa-undo"></i> <span data-i18n="settings_modal.theme.reset_theme">ƒê·∫∑t l·∫°i m·∫∑c ƒë·ªãnh</span>
                            </button>
                            <button class="btn-link" onclick="exportTheme()">
                                <i class="fas fa-download"></i> <span data-i18n="settings_modal.theme.export_theme">Xu·∫•t giao di·ªán</span>
                            </button>
                        </div>
                    </div>

                    <!-- Preferences Tab -->
                    <div class="settings-tab-content" id="preferencesTab">
                        <h3 data-i18n="settings_modal.preferences.title">T√πy Ch·ªçn ·ª®ng D·ª•ng</h3>
                        <div class="form-group">
                            <label data-i18n="settings_modal.preferences.language">Ng√¥n ng·ªØ</label>
                            <select class="form-control">
                                <option value="vi">Ti·∫øng Vi·ªát</option>
                                <option value="en">English</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label data-i18n="settings_modal.preferences.theme">Giao di·ªán</label>
                            <select class="form-control">
                                <option value="dark" selected data-i18n="settings_modal.preferences.theme_dark">T·ªëi (M·∫∑c ƒë·ªãnh)</option>
                                <option value="light" data-i18n="settings_modal.preferences.theme_light">S√°ng</option>
                                <option value="auto" data-i18n="settings_modal.preferences.theme_auto">T·ª± ƒë·ªông (H·ªá th·ªëng)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" checked> <span data-i18n="settings_modal.preferences.enable_notifications">B·∫≠t th√¥ng b√°o desktop</span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" checked> <span data-i18n="settings_modal.preferences.auto_save_results">T·ª± ƒë·ªông l∆∞u k·∫øt qu·∫£ ki·ªÉm tra</span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox"> <span data-i18n="settings_modal.preferences.enable_sound">B·∫≠t hi·ªáu ·ª©ng √¢m thanh</span>
                            </label>
                        </div>
                        <button class="btn-primary"><i class="fas fa-save"></i> <span data-i18n="settings_modal.preferences.save_preferences">L∆∞u T√πy Ch·ªçn</span></button>
                    </div>

                    <!-- API Keys Tab -->
                    <div class="settings-tab-content" id="apiTab">
                        <h3 data-i18n="settings_modal.api.title">Truy C·∫≠p API</h3>
                        <div class="api-info-box">
                            <i class="fas fa-info-circle"></i>
                            <p data-i18n="settings_modal.api.info">Truy c·∫≠p API c√≥ s·∫µn cho ng∆∞·ªùi d√πng PRO v√† ENTERPRISE. T·∫°o API keys ƒë·ªÉ t√≠ch h·ª£p d·ªãch v·ª• c·ªßa ch√∫ng t√¥i v√†o ·ª©ng d·ª•ng c·ªßa b·∫°n.</p>
                        </div>
                        <div class="form-group">
                            <label data-i18n="settings_modal.api.your_api_key">API Key C·ªßa B·∫°n</label>
                            <div class="api-key-display">
                                <input type="password" class="form-control" value="sk_live_xxxxxxxxxxxxxxxxxxxx" readonly>
                                <button class="toggle-visibility-btn" onclick="toggleAPIKeyVisibility()">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="copy-btn" onclick="copyAPIKey()">
                                    <i class="fas fa-copy"></i>
                                </button>
                            </div>
                        </div>
                        <button class="btn-secondary"><i class="fas fa-sync"></i> <span data-i18n="settings_modal.api.regenerate">T·∫°o L·∫°i API Key</span></button>
                        <button class="btn-link"><i class="fas fa-book"></i> <span data-i18n="settings_modal.api.view_docs">Xem T√†i Li·ªáu API</span></button>
                    </div>

                    <!-- Security Tab -->
                    <div class="settings-tab-content" id="securityTab">
                        <h3 data-i18n="settings_modal.security.title">C√†i ƒê·∫∑t B·∫£o M·∫≠t</h3>
                        <div class="form-group">
                            <label data-i18n="settings_modal.security.current_password">M·∫≠t kh·∫©u hi·ªán t·∫°i</label>
                            <input type="password" class="form-control" data-i18n-placeholder="settings_modal.security.current_password_placeholder" placeholder="Nh·∫≠p m·∫≠t kh·∫©u hi·ªán t·∫°i">
                        </div>
                        <div class="form-group">
                            <label data-i18n="settings_modal.security.new_password">M·∫≠t kh·∫©u m·ªõi</label>
                            <input type="password" class="form-control" data-i18n-placeholder="settings_modal.security.new_password_placeholder" placeholder="Nh·∫≠p m·∫≠t kh·∫©u m·ªõi">
                        </div>
                        <div class="form-group">
                            <label data-i18n="settings_modal.security.confirm_password">X√°c nh·∫≠n m·∫≠t kh·∫©u m·ªõi</label>
                            <input type="password" class="form-control" data-i18n-placeholder="settings_modal.security.confirm_password_placeholder" placeholder="X√°c nh·∫≠n m·∫≠t kh·∫©u m·ªõi">
                        </div>
                        <button class="btn-primary"><i class="fas fa-key"></i> <span data-i18n="settings_modal.security.change_password">ƒê·ªïi M·∫≠t Kh·∫©u</span></button>
                        <hr>
                        <h3 data-i18n="settings_modal.security.two_factor_auth">X√°c Th·ª±c Hai Y·∫øu T·ªë</h3>
                        <p class="text-secondary" data-i18n="settings_modal.security.two_factor_desc">Th√™m m·ªôt l·ªõp b·∫£o m·∫≠t b·ªï sung cho t√†i kho·∫£n c·ªßa b·∫°n</p>
                        <button class="btn-secondary"><i class="fas fa-shield-alt"></i> <span data-i18n="settings_modal.security.enable_2fa">B·∫≠t 2FA</span></button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Include Modal Templates -->
    {% include 'modals/validator_modal.html' %}
    {% include 'modals/generator_modal.html' %}
    {% include 'modals/extractor_modal.html' %}
    {% include 'modals/fb_linked_checker_modal.html' %}
    {% include 'modals/check_2fa_modal.html' %}
    {% include 'modals/page_mining_modal.html' %}
    {% include 'modals/filter_modal.html' %}
    {% include 'modals/analyzer_modal.html' %}
    {% include 'modals/deduplicator_modal.html' %}

    <!-- Scripts -->
    <script>
        // Global configuration
        window.API_BASE = '/api';
        window.currentUser = {
            username: '{{ user.username }}',
            role: '{{ user.role }}',
            fullName: '{{ user.full_name or user.username }}'
        };
    </script>

    <!-- ========================================
         MODALS - Tool Windows
         ======================================== -->
    
    <!-- Email Validator Modal -->
    <div class="modal" id="validatorModal">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-header">
                <h2><i class="fas fa-shield-check"></i> <span data-i18n="dashboard.email_validator.title">Ki·ªÉm tra Email</span></h2>
                <button class="modal-close" onclick="closeModal('validatorModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="tool-description">
                    <p data-i18n="dashboard.email_validator.description">Ki·ªÉm tra t√≠nh h·ª£p l·ªá c·ªßa email, ph√°t hi·ªán LIVE/DIE, ki·ªÉm tra kh·∫£ nƒÉng nh·∫≠n code.</p>
                </div>
                
                <div class="form-group">
                    <label for="validatorEmails">
                        <i class="fas fa-envelope"></i> <span data-i18n="dashboard.email_validator.input_label">Danh s√°ch Email</span>
                        <span class="label-hint">(M·ªói email m·ªôt d√≤ng)</span>
                    </label>
                    <textarea 
                        id="validatorEmails" 
                        rows="10" 
                        placeholder="email1@gmail.com&#10;email2@yahoo.com&#10;email3@outlook.com"
                        data-i18n-placeholder="dashboard.email_validator.input_placeholder"
                    ></textarea>
                </div>
                
                <div class="options-grid">
                    <label class="checkbox-option">
                        <input type="checkbox" id="checkMX" checked>
                        <span>Ki·ªÉm tra MX Record</span>
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" id="checkSMTP" checked>
                        <span>Ki·ªÉm tra SMTP</span>
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" id="checkDisposable" checked>
                        <span>L·ªçc Email T·∫°m</span>
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" id="checkFBCompat" checked>
                        <span>Ki·ªÉm tra t∆∞∆°ng th√≠ch Facebook</span>
                    </label>
                </div>
                
                <div class="modal-actions">
                    <button class="btn btn-primary" onclick="runEmailValidator()">
                        <i class="fas fa-play"></i> <span data-i18n="common.run">Ch·∫°y</span>
                    </button>
                    <button class="btn btn-secondary" onclick="clearValidatorResults()">
                        <i class="fas fa-eraser"></i> <span data-i18n="common.clear">X√≥a</span>
                    </button>
                </div>
                
                <div id="validatorResults" class="results-container"></div>
            </div>
        </div>
    </div>

    <!-- Email Generator Modal -->
    <div class="modal" id="generatorModal">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-header">
                <h2><i class="fas fa-random"></i> <span data-i18n="dashboard.email_generator.title">T·∫°o Email</span></h2>
                <button class="modal-close" onclick="closeModal('generatorModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="tool-description">
                    <p data-i18n="dashboard.email_generator.description">T·∫°o danh s√°ch email ng·∫´u nhi√™n v·ªõi nhi·ªÅu t√πy ch·ªçn t√πy ch·ªânh.</p>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="genCount">
                            <i class="fas fa-hashtag"></i> S·ªë l∆∞·ª£ng Email
                        </label>
                        <input type="number" id="genCount" value="100" min="1" max="10000">
                    </div>
                    
                    <div class="form-group">
                        <label for="genDomain">
                            <i class="fas fa-globe"></i> Domain
                        </label>
                        <select id="genDomain">
                            <option value="gmail.com">gmail.com</option>
                            <option value="yahoo.com">yahoo.com</option>
                            <option value="outlook.com">outlook.com</option>
                            <option value="hotmail.com">hotmail.com</option>
                            <option value="custom">T√πy ch·ªânh...</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group" id="customDomainGroup" style="display: none;">
                    <label for="customDomains">
                        <i class="fas fa-list"></i> Danh s√°ch Domain t√πy ch·ªânh
                        <span class="label-hint">(M·ªói domain m·ªôt d√≤ng)</span>
                    </label>
                    <textarea id="customDomains" rows="3" placeholder="domain1.com&#10;domain2.com"></textarea>
                </div>
                
                <div class="options-grid">
                    <label class="checkbox-option">
                        <input type="checkbox" id="genNumbers" checked>
                        <span>Th√™m s·ªë</span>
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" id="genDots" checked>
                        <span>Th√™m d·∫•u ch·∫•m</span>
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" id="genUnderscores">
                        <span>Th√™m g·∫°ch d∆∞·ªõi</span>
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" id="genUnique" checked>
                        <span>Kh√¥ng tr√πng l·∫∑p</span>
                    </label>
                </div>
                
                <div class="modal-actions">
                    <button class="btn btn-primary" onclick="runEmailGenerator()">
                        <i class="fas fa-play"></i> <span data-i18n="common.generate">T·∫°o</span>
                    </button>
                    <button class="btn btn-secondary" onclick="clearGeneratorResults()">
                        <i class="fas fa-eraser"></i> <span data-i18n="common.clear">X√≥a</span>
                    </button>
                </div>
                
                <div id="generatorResults" class="results-container"></div>
            </div>
        </div>
    </div>

    <!-- Email Extractor Modal -->
    <div class="modal" id="extractorModal">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-header">
                <h2><i class="fas fa-search"></i> <span data-i18n="dashboard.email_extractor.title">Tr√≠ch xu·∫•t Email</span></h2>
                <button class="modal-close" onclick="closeModal('extractorModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="tool-description">
                    <p data-i18n="dashboard.email_extractor.description">Tr√≠ch xu·∫•t t·∫•t c·∫£ email t·ª´ vƒÉn b·∫£n, HTML, ho·∫∑c URL.</p>
                </div>
                
                <div class="form-group">
                    <label for="extractorInput">
                        <i class="fas fa-file-alt"></i> VƒÉn b·∫£n ƒë·∫ßu v√†o
                    </label>
                    <textarea 
                        id="extractorInput" 
                        rows="10" 
                        placeholder="D√°n vƒÉn b·∫£n, HTML ho·∫∑c URL t·∫°i ƒë√¢y..."
                    ></textarea>
                </div>
                
                <div class="options-grid">
                    <label class="checkbox-option">
                        <input type="checkbox" id="extractUnique" checked>
                        <span>Ch·ªâ email duy nh·∫•t</span>
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" id="extractSort">
                        <span>S·∫Øp x·∫øp theo domain</span>
                    </label>
                </div>
                
                <div class="modal-actions">
                    <button class="btn btn-primary" onclick="runEmailExtractor()">
                        <i class="fas fa-play"></i> <span data-i18n="common.extract">Tr√≠ch xu·∫•t</span>
                    </button>
                    <button class="btn btn-secondary" onclick="clearExtractorResults()">
                        <i class="fas fa-eraser"></i> <span data-i18n="common.clear">X√≥a</span>
                    </button>
                </div>
                
                <div id="extractorResults" class="results-container"></div>
            </div>
        </div>
    </div>

    <!-- Facebook Linked Checker Modal -->
    <div class="modal" id="fbLinkedModal">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-header">
                <h2><i class="fab fa-facebook"></i> <span data-i18n="dashboard.fb_checker.title">Ki·ªÉm tra Facebook Linked</span></h2>
                <button class="modal-close" onclick="closeModal('fbLinkedModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="tool-description">
                    <p data-i18n="dashboard.fb_checker.description">Ki·ªÉm tra email c√≥ li√™n k·∫øt v·ªõi t√†i kho·∫£n Facebook kh√¥ng.</p>
                </div>
                
                <div class="form-group">
                    <label for="fbLinkedEmails">
                        <i class="fas fa-envelope"></i> Danh s√°ch Email
                        <span class="label-hint">(M·ªói email m·ªôt d√≤ng)</span>
                    </label>
                    <textarea 
                        id="fbLinkedEmails" 
                        rows="10" 
                        placeholder="email1@gmail.com&#10;email2@yahoo.com"
                    ></textarea>
                </div>
                
                <div class="modal-actions">
                    <button class="btn btn-primary" onclick="runFBLinkedChecker()">
                        <i class="fas fa-play"></i> <span data-i18n="common.check">Ki·ªÉm tra</span>
                    </button>
                    <button class="btn btn-secondary" onclick="clearFBLinkedResults()">
                        <i class="fas fa-eraser"></i> <span data-i18n="common.clear">X√≥a</span>
                    </button>
                </div>
                
                <div id="fbLinkedResults" class="results-container"></div>
            </div>
        </div>
    </div>

    <!-- Check 2FA Modal -->
    <div class="modal" id="check2faModal">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-header">
                <h2><i class="fas fa-shield-alt"></i> <span data-i18n="dashboard.pass_2fa_checker.title">Ki·ªÉm tra 2FA</span></h2>
                <button class="modal-close" onclick="closeModal('check2faModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="tool-description">
                    <p data-i18n="dashboard.pass_2fa_checker.description">Ki·ªÉm tra email|password c√≥ b·∫≠t 2FA kh√¥ng.</p>
                </div>
                
                <div class="form-group">
                    <label for="check2faInput">
                        <i class="fas fa-key"></i> Danh s√°ch Email:Password
                        <span class="label-hint">(Format: email:password, m·ªói d√≤ng m·ªôt t√†i kho·∫£n)</span>
                    </label>
                    <textarea 
                        id="check2faInput" 
                        rows="10" 
                        placeholder="email1@gmail.com:password123&#10;email2@yahoo.com:pass456"
                    ></textarea>
                </div>
                
                <div class="modal-actions">
                    <button class="btn btn-primary" onclick="runCheck2FA()">
                        <i class="fas fa-play"></i> <span data-i18n="common.check">Ki·ªÉm tra</span>
                    </button>
                    <button class="btn btn-secondary" onclick="clearCheck2FAResults()">
                        <i class="fas fa-eraser"></i> <span data-i18n="common.clear">X√≥a</span>
                    </button>
                </div>
                
                <div id="check2faResults" class="results-container"></div>
            </div>
        </div>
    </div>

    <!-- Page Mining Modal -->
    <div class="modal" id="miningModal">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-header">
                <h2><i class="fas fa-search-dollar"></i> <span data-i18n="dashboard.page_mining.title">Mining Facebook Page</span></h2>
                <button class="modal-close" onclick="closeModal('miningModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="tool-description">
                    <p data-i18n="dashboard.page_mining.description">Khai th√°c th√¥ng tin t·ª´ Facebook Page (ID, t√™n, followers, v.v.)</p>
                </div>
                
                <div class="form-group">
                    <label for="miningUrls">
                        <i class="fas fa-link"></i> Danh s√°ch UID Facebook
                        <span class="label-hint">(M·ªói UID m·ªôt d√≤ng - VD: 100001234567890)</span>
                    </label>
                    <textarea 
                        id="miningUrls" 
                        rows="10" 
                        placeholder="100001234567890&#10;100009876543210&#10;100012345678901"
                    ></textarea>
                </div>
                
                <div class="modal-actions">
                    <button class="btn btn-primary" onclick="runPageMining()">
                        <i class="fas fa-play"></i> <span data-i18n="common.mine">Khai th√°c</span>
                    </button>
                    <button class="btn btn-secondary" onclick="clearMiningResults()">
                        <i class="fas fa-eraser"></i> <span data-i18n="common.clear">X√≥a</span>
                    </button>
                </div>
                
                <div id="miningResults" class="results-container"></div>
            </div>
        </div>
    </div>

    <!-- Email Filter Modal -->
    <div class="modal" id="filterModal">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-header">
                <h2><i class="fas fa-filter"></i> L·ªçc Email</h2>
                <button class="modal-close" onclick="closeModal('filterModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="tool-description">
                    <p>L·ªçc email theo domain, status, ho·∫∑c pattern c·ª• th·ªÉ.</p>
                </div>
                
                <div class="form-group">
                    <label for="filterEmails">
                        <i class="fas fa-envelope"></i> Danh s√°ch Email
                        <span class="label-hint">(M·ªói email m·ªôt d√≤ng)</span>
                    </label>
                    <textarea id="filterEmails" rows="10" placeholder="email1@gmail.com&#10;email2@yahoo.com"></textarea>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="filterDomain">
                            <i class="fas fa-globe"></i> L·ªçc theo Domain
                        </label>
                        <input type="text" id="filterDomain" placeholder="gmail.com, yahoo.com (ph√¢n c√°ch b·∫±ng d·∫•u ph·∫©y)">
                    </div>
                    
                    <div class="form-group">
                        <label for="filterPattern">
                            <i class="fas fa-search"></i> Pattern (Regex)
                        </label>
                        <input type="text" id="filterPattern" placeholder="^[a-z]+@.*\.com$">
                    </div>
                </div>
                
                <div class="options-grid">
                    <label class="checkbox-option">
                        <input type="checkbox" id="filterInclude" checked>
                        <span>Include (bao g·ªìm)</span>
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" id="filterExclude">
                        <span>Exclude (lo·∫°i tr·ª´)</span>
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" id="filterCaseSensitive">
                        <span>Case sensitive</span>
                    </label>
                </div>
                
                <div class="modal-actions">
                    <button class="btn btn-primary" onclick="runEmailFilter()">
                        <i class="fas fa-filter"></i> L·ªçc
                    </button>
                    <button class="btn btn-secondary" onclick="clearFilterResults()">
                        <i class="fas fa-eraser"></i> X√≥a
                    </button>
                </div>
                
                <div id="filterResults" class="results-container"></div>
            </div>
        </div>
    </div>

    <!-- Email Analyzer Modal -->
    <div class="modal" id="analyzerModal">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-header">
                <h2><i class="fas fa-chart-bar"></i> Ph√¢n t√≠ch Email</h2>
                <button class="modal-close" onclick="closeModal('analyzerModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="tool-description">
                    <p>Ph√¢n t√≠ch th·ªëng k√™ chi ti·∫øt v·ªÅ danh s√°ch email: domains, patterns, quality score.</p>
                </div>
                
                <div class="form-group">
                    <label for="analyzerEmails">
                        <i class="fas fa-envelope"></i> Danh s√°ch Email
                        <span class="label-hint">(M·ªói email m·ªôt d√≤ng)</span>
                    </label>
                    <textarea id="analyzerEmails" rows="10" placeholder="email1@gmail.com&#10;email2@yahoo.com"></textarea>
                </div>
                
                <div class="options-grid">
                    <label class="checkbox-option">
                        <input type="checkbox" id="analyzeDomains" checked>
                        <span>Domain statistics</span>
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" id="analyzePatterns" checked>
                        <span>Pattern analysis</span>
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" id="analyzeQuality" checked>
                        <span>Quality score</span>
                    </label>
                </div>
                
                <div class="modal-actions">
                    <button class="btn btn-primary" onclick="runEmailAnalyzer()">
                        <i class="fas fa-chart-line"></i> Ph√¢n t√≠ch
                    </button>
                    <button class="btn btn-secondary" onclick="clearAnalyzerResults()">
                        <i class="fas fa-eraser"></i> X√≥a
                    </button>
                </div>
                
                <div id="analyzerResults" class="results-container"></div>
            </div>
        </div>
    </div>

    <!-- Email Deduplicator Modal -->
    <div class="modal" id="deduplicatorModal">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-header">
                <h2><i class="fas fa-clone"></i> Lo·∫°i b·ªè Email tr√πng l·∫∑p</h2>
                <button class="modal-close" onclick="closeModal('deduplicatorModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="tool-description">
                    <p>Lo·∫°i b·ªè c√°c email tr√πng l·∫∑p, ch·ªâ gi·ªØ l·∫°i email unique.</p>
                </div>
                
                <div class="form-group">
                    <label for="dedupEmails">
                        <i class="fas fa-envelope"></i> Danh s√°ch Email
                        <span class="label-hint">(M·ªói email m·ªôt d√≤ng, c√≥ th·ªÉ c√≥ tr√πng l·∫∑p)</span>
                    </label>
                    <textarea id="dedupEmails" rows="10" placeholder="email1@gmail.com&#10;email2@yahoo.com&#10;email1@gmail.com (tr√πng)"></textarea>
                </div>
                
                <div class="options-grid">
                    <label class="checkbox-option">
                        <input type="checkbox" id="dedupCaseInsensitive" checked>
                        <span>Case insensitive</span>
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" id="dedupKeepFirst" checked>
                        <span>Gi·ªØ email ƒë·∫ßu ti√™n</span>
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" id="dedupSortOutput">
                        <span>S·∫Øp x·∫øp k·∫øt qu·∫£</span>
                    </label>
                </div>
                
                <div class="modal-actions">
                    <button class="btn btn-primary" onclick="runDeduplicator()">
                        <i class="fas fa-check-double"></i> Lo·∫°i b·ªè tr√πng
                    </button>
                    <button class="btn btn-secondary" onclick="clearDedupResults()">
                        <i class="fas fa-eraser"></i> X√≥a
                    </button>
                </div>
                
                <div id="dedupResults" class="results-container"></div>
            </div>
        </div>
    </div>

    <!-- Core Scripts (Load first) -->
    <script src="{{ url_for('static', filename='js/notifications.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modals.js') }}"></script>
    <script src="{{ url_for('static', filename='js/api.js') }}"></script>
    <script src="{{ url_for('static', filename='js/tool_handlers.js') }}"></script>
    
    <!-- I18N Scripts -->
    <script src="{{ url_for('static', filename='js/translations/vi.js') }}"></script>
    <script src="{{ url_for('static', filename='js/translations/en.js') }}"></script>
    <script src="{{ url_for('static', filename='js/i18n.js') }}"></script>
    
    <!-- Dashboard Scripts -->
    <script src="{{ url_for('static', filename='js/dashboard_pro.js') }}"></script>
    
    <!-- Theme Settings Script -->
    <script src="{{ url_for('static', filename='js/theme_settings.js') }}"></script>
    
    <!-- Settings Manager Script -->
    <script src="{{ url_for('static', filename='js/settings_manager.js') }}"></script>
    
    <!-- Activity Feed Manager Script -->
    <script src="{{ url_for('static', filename='js/activity_feed.js') }}"></script>
    
    <!-- Tool-specific Scripts (No duplicates) -->
    <script src="{{ url_for('static', filename='js/fb_linked_checker.js') }}"></script>
    <script src="{{ url_for('static', filename='js/check_2fa.js') }}"></script>
    <script src="{{ url_for('static', filename='js/page_mining.js') }}"></script>
    
    <!-- Admin Functions -->
    <script>
        function openAdminUsers() {
            // For now, redirect to admin panel
            window.open('/admin/', '_blank');
        }
        
        function openSystemLogs() {
            // For now, redirect to admin panel
            window.open('/admin/', '_blank');
        }
    </script>
    
    <!-- Admin Notice Toggle Script -->
    <script>
        function toggleNotice() {
            const notice = document.getElementById('adminNotice');
            const icon = notice.querySelector('.admin-notice-close i');
            
            notice.classList.toggle('collapsed');
            
            if (notice.classList.contains('collapsed')) {
                icon.className = 'fas fa-chevron-down';
            } else {
                icon.className = 'fas fa-chevron-up';
            }
            
            // Save state to localStorage
            localStorage.setItem('adminNoticeCollapsed', notice.classList.contains('collapsed'));
        }
        
        // Restore state on page load
        document.addEventListener('DOMContentLoaded', function() {
            const collapsed = localStorage.getItem('adminNoticeCollapsed') === 'true';
            if (collapsed) {
                toggleNotice();
            }
        });
    </script>
</body>
</html>
